<div class="content main-background">
  <!-- <div class="row pt-10 mb-0">
    <div [hidden]="currentStatus==1" class="col-3">
      <i class="fas fa-arrow-left" (click)="back()" style="font-size: 24px; color: #fff;"></i>
    </div>
    <div class="col-12">
      <p *ngIf="psaData.name" class="psa-name">{{psaData.name}} </p>
    </div>
  </div> -->

  <br/>
  <div *ngIf="browserFailed == ''" class="white-bg-box">    
    <div *ngIf="currentStatus ==0" style="position:relative;">
      <div class="row mb-0">
    <div class="col-8 video-title-position">
      <p *ngIf="psaData.name" class="psa-name">Challenge: {{psaData.name}} </p>
    </div>
  </div>
      <div class="row">
        <div class="col-xs-12 div-center">
          <div style="position: relative;">
            <div *ngIf="markText" class="markerText">{{markText}}</div>
            <video type="video/webm" #video class="video"></video>
          </div>

        </div>
      </div>
      <div class="row mr-0">
        <div class="col-xs-12 div-center">
          <div class="demo" id="countdown" *ngIf="animation">
          </div>

          <div *ngIf="!recording && recordRTC" class="icon-position">
            <!-- <p *ngIf="!animation">Hit the record button and read out what you see on the screen.</p> -->
            <img src="assets/img/recording-play.png" *ngIf="psaData.id" alt="recording pause icon" width="36" height="36" (click)="verifyRecording()"
            />
            <!-- <img style="margin-left:10px;" *ngIf="upload" src="assets/img/upload.png" alt="recording pause icon" width="36" height="36"
            (click)="uploadvideo()" /> -->
          </div>
          <div *ngIf="recording">
            <div class="timer red-bg" *ngIf="timecount !=0">{{timecount}}</div>
            <div  class="icon-position" (click)="stopConfirmRecording()">
              <circle-progress
              [percent]="psaData.percent"
              [radius]="22"
              [space]="-5"
              [renderOnClick]="false"
              [outerStrokeWidth]="5"
              [outerStrokeColor]="'#F03032'"
              [innerStrokeWidth]="5"
              [innerStrokeColor]="'#FFFFFF'"
              [animation]="true" [imageHeight]="30"
              [imageWidth]="30" 
              [showImage]="true" 
              [animation]="false"
              [imageSrc]="'assets/img/recording-pause.png'"></circle-progress>
            </div>
           
            <!-- <img src="assets/img/recording-pause.png" alt="recording pause icon" width="36" height="36"  (click)="stopConfirmRecording()" -->
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="currentStatus==1 && uploadProgress != 100" class="">
      <progress-bar [progress]="uploadProgress" [color]="'#70E083'">
      </progress-bar>
      <h4 class="progress-text">{{ "video_recorder.upload_prompt" | translate }}...</h4>
    </div>
    <div style="text-align: center;" *ngIf="currentStatus==1 && uploadProgress == 100">
      <!-- <img height="100" src="assets/img/processing.gif" /> -->
      <img height="250" src="assets/img/3J1l.gif" />
      <h4 [innerHTML]="processText">

      </h4>
    </div>
  </div>
  <div style="text-align: center;" *ngIf="browserFailed !=''">
    <h4 [innerHTML]="browserFailed"></h4>
  </div>  
</div>
<ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }"></ngx-loading>